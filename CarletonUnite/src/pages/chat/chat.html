
<ion-header>

  <ion-navbar color="danger">
    <ion-item style="background-color: rgba(255, 255, 255, 0.0)" no-lines>    
     <ion-title item-left style="color:white;" >{{toUser?.get('name')}}</ion-title>
    <ion-item style="background-color: rgba(255, 255, 255, 0.0)" no-lines> 
          
     <ion-avatar  item-right>
          <img id="profilePic" style="width: 100%; height: 100%; max-height: 50px; max-width: 50px" [src]="imgSrc" />
        </ion-avatar>

    </ion-item>
    </ion-item>
  </ion-navbar>
<!--<ion-icon name="more"></ion-icon>-->


</ion-header>


<ion-content style="background-image: url(assets/images/chatWallpaper.png); background-size: 100%" >
<div class ="content-scroll" id="chat-autoscroll" style="height: 100%; overflow: scroll">
  <!--<ion-spinner align="center" style="text-align: center" name="bubbles"  *ngIf="!loaded">
    </ion-spinner>-->
  <ion-list  no-lines>
    

    <ion-item style="background-color: rgba(255, 255, 255, 0.0)" *ngFor="let message of messages">
      
        <div style="margin-top: 2px">
          <div align="right" class="name" *ngIf="message.get('from').id == currentUser.id">
             <h3 style="opacity: 1; padding:10px; text-align: left;
             width:60%; border-radius: 20px; background: white; word-wrap:break-word; 
        overflow:visible; white-space:normal"> {{message?.get('text')}} </h3>
          </div>

          <div align="left" class="name" *ngIf="message.get('from').id == toUser.id">
             <h3 style="color: white; opacity: 1; text-align: left; border-radius: 20px;
              width: 60%; padding: 10px; background: #e54d42; word-wrap:break-word; 
        overflow:visible; white-space:normal"> {{message?.get('text')}} </h3>
          </div>
       
        
        </div>
      </ion-item>
  </ion-list>

</div>

</ion-content>


<ion-footer>
  <ion-toolbar>
    <ion-item>
    <ion-input [(ngModel)]="text" 
    style="color:red; width:87%" type="text" placeholder="Enter message here"></ion-input>

     <button item-right ion-button style="padding:20px" item-height="100%" (click)="sendMessage(text)" icon-only color="danger" >
          <ion-icon name="send"></ion-icon>
    </button>

  </ion-item>
  </ion-toolbar>
</ion-footer>


